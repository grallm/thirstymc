plugins {
    id 'java'
}

group 'fr.izychiel'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

repositories {
    mavenCentral()
    maven {
        url 'http://repo.corentin.us/public/'
    }
}

dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    compileOnly 'org.spigotmc:spigot:1.13.2'
}

task fatJar(type: Jar) {
    from {
        configurations.compile.collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }
    with jar
}

task moveIntoBukkit(type: Copy) {
    from "${buildDir}/libs/${project.name}-${version}.jar"
    into '../../../Minecraft/server-dev/plugins/'
}
